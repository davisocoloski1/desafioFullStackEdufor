<main>
  <header>
    @if (!isLogged()) {
      <a routerLink="/login">Login</a>
      <a routerLink="/signin">Registro</a>
    } @else {
      <a routerLink="/public_books">Meus Livros</a>
      <a routerLink="" (click)="logout()">Logout</a>
    }
  </header>
  <body>

    <app-search-book (buscarLivro)="pesquisar($event)"></app-search-book>
    <h3>{{ searchText }}</h3>
  
    <div class="bookManagement">
      <input type="text" [formControl]="titulo" [placeholder]="titlePlaceholder" class="input">
      <input type="text" [formControl]="autor" [placeholder]="autorPlaceholder" class="input">
      <input type="text" [formControl]="ano" [placeholder]="anoPlaceholder" class="input">
      <input type="text" [formControl]="genero" [placeholder]="generoPlaceholder" class="input">
      <input type="text" [formControl]="isbn" [placeholder]="isbnPlaceholder" class="input">
    </div>
    
    <div class="actions-row">
      <app-add-book-btn text="Adicionar" (click)="checkNullValues()" (click)="bookMenuAction()"></app-add-book-btn>
      <button (click)="limpar()">Limpar Campos</button>
    </div>
    
    <app-books-index></app-books-index>
    <h2>{{ warnText }}</h2>

    @for (book of books; track book.id) {
      <div class="container">
        <app-book-info-form [book]="book" (delete)="deletarLivro($event)" (edit)="editarLivro($event)"></app-book-info-form>
      </div>
    }

  </body>
</main>